<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale = 1.0">
    <title>custom Event</title>
  </head>
  <style>

    *{
      margin: 0;
      padding: 0;
    }
    .btn {
      margin: 5px;
      display: block;
      padding: 6px 12px;
      font-size: 14px;
      font-weight: normal;
      line-height: 1.42857143;
      text-align: center;
      white-space: nowrap;
      vertical-align: middle;
      -ms-touch-action: manipulation;
      touch-action: manipulation;
      cursor: pointer;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      background-image: none;
      border: 1px solid transparent;
      border-radius: 4px;
    }
    .btn:focus,
    .btn:active:focus,
    .btn.active:focus,
    .btn.focus,
    .btn:active.focus,
    .btn.active.focus {
      outline: 5px auto -webkit-focus-ring-color;
      outline-offset: -2px;
    }
    .btn:hover,
    .btn:focus,
    .btn.focus {
      color: #333;
      text-decoration: none;
    }
    .btn:active,
    .btn.active {
      background-image: none;
      outline: 0;
      -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
      box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
    }
    section{
      margin: 10px 0;
      width: 100%;
      height: 50px;
      background-color: #eeeeee;
      text-align: center;
      line-height: 50px;
    }
  </style>
  <body>
    <h5> 在谷歌62版本以上，本文用了ES6语法！！！！ </h5>
    <section id="sectionId">
      触发我变化颜色！！！
    </section>

    <div style="margin-bottom: 20px">
      <h6>JavaScript自定义事件修改section的背景颜色</h6>
      <button id="jsId" class="btn"> 点击变红 </button>
      <button id="jsId2" class="btn"> 我也可以改变section </button>
    </div>

    <hr />

    <!--<script src="purejs.js"></script>-->
    <!--<script src="func-event.js"></script>-->

    <script src="//cdn.bootcss.com/jquery/3.0.0/jquery.js"></script>
    <script>
      // 空对象挂载
      const M = {};
      $(M).on('changeBg', (event, obj)=>{
        console.log(event);
        console.log(obj);
        const e = $('#sectionId')[0];
        e.innerText= '';
        setTimeout(()=>{
          e.style.backgroundColor= obj.color;
          e.style.color = 'black';
          e.style.opacity= 0.5;
          e.innerText = 'change my bgcolor and font color'
        }, 100)

      });

      $('#jsId').on('click', ()=>{
        $(M).trigger('changeBg', {
          'foo':'bar',
          'color': 'red',
        });
      });
      $('#jsId2').on('click', ()=>{
        $(M).trigger('changeBg', {
          'foo':'bar',
          'color': 'green',
        });
      });
    </script>

  </body>
</html>
